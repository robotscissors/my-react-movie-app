(this["webpackJsonpmy-react-movie-app"]=this["webpackJsonpmy-react-movie-app"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(18),s=c.n(i),r=(c(25),c(3)),o=(c(26),c(5)),l=c(6),j=c(0),u=function(e){var t=e.sendSearchData,c=Object(n.useState)({movieSearch:"",movieType:""}),a=Object(r.a)(c,2),i=a[0],s=a[1],u=function(e){var t=e.target,c=t.name,n=t.value;s(Object(l.a)(Object(l.a)({},i),{},Object(o.a)({},c,n)))};return Object(n.useEffect)((function(){t(i)}),[i]),Object(j.jsx)("div",{className:"App-search",children:Object(j.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=e.target,c=t.name,n=t.value;s(Object(l.a)(Object(l.a)({},i),{},Object(o.a)({},c,n)))}(e)},children:[Object(j.jsx)("input",{onChange:function(e){return u(e)},type:"text",placeholder:"Search movie names",name:"movieSearch",id:"movieSearch"}),Object(j.jsxs)("select",{name:"movieType",id:"movieType",onChange:function(e){return u(e)},children:[Object(j.jsx)("option",{value:"",children:"Type"}),Object(j.jsx)("option",{value:"movie",children:"Movie"}),Object(j.jsx)("option",{value:"series",children:"Series"}),Object(j.jsx)("option",{value:"episode",children:"Episode"})]}),Object(j.jsx)("button",{id:"submit",type:"submit",children:"Search"})]})})},d=c(4),b=c.n(d),m=c(7),v=function(e){var t=e.movie;return Object(j.jsx)("div",{className:"movie-title",children:Object(j.jsx)("h4",{children:t.Title})})},h=c(19),O=c(20),x=c(9),p=c.n(x),f=function(){function e(){Object(h.a)(this,e)}return Object(O.a)(e,[{key:"getMoviesByTitle",value:function(e,t,c){var n="";return t&&(n="&type=".concat(t,"&")),p.a.get("http://www.omdbapi.com/?s=".concat(e).concat(n,"&page=").concat(c,"&apikey=").concat("b9f36a3")).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}},{key:"getMovieById",value:function(e){return p.a.get("http://www.omdbapi.com/?i=".concat(e,"&apikey=").concat("b9f36a3")).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}}]),e}(),N=(c(47),new f),y=function(e){var t=e.movieID,c=Object(n.useState)(),a=Object(r.a)(c,2),i=a[0],s=a[1],o=function(){var e=Object(m.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getMovieById(t);case 2:c=e.sent,s(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o(t)}),[t]),i?Object(j.jsxs)("div",{className:"movie-details",children:[Object(j.jsx)("div",{className:"movie-details-poster",children:Object(j.jsx)("img",{alt:"movie poster",src:i.Poster})}),Object(j.jsxs)("div",{className:"movie-details-info",children:[Object(j.jsx)("div",{className:"movie-details-title",children:i.Title}),Object(j.jsx)("div",{className:"imdb-details-rating",children:i.imdbRating}),Object(j.jsx)("div",{style:{clear:"both"}}),Object(j.jsxs)("div",{className:"movie-details-rated",children:[Object(j.jsx)("button",{className:"rating-button",children:i.Rated}),Object(j.jsx)("button",{className:"rating-button",children:i.Runtime}),Object(j.jsx)("button",{className:"rating-button",children:i.Genre})]}),Object(j.jsxs)("div",{className:"movie-details-text",children:[Object(j.jsx)("h1",{children:"Plot"}),Object(j.jsx)("p",{children:i.Plot})]}),Object(j.jsxs)("div",{className:"movie-details-text",children:[Object(j.jsx)("h1",{children:"Actors"}),Object(j.jsx)("p",{children:i.Actors})]})]}),Object(j.jsx)("span",{style:{clear:"both"}})]}):Object(j.jsx)("h2",{children:"loading..."})},g=(c(48),function(e){var t=e.show,c=e.onClose,n=e.children;return t?Object(j.jsx)("div",{className:"modal",onClick:c,children:Object(j.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"modal-close",children:Object(j.jsx)("div",{onClick:c,className:"close-button",children:"X"})})}),Object(j.jsx)("div",{className:"modal-body",children:n}),Object(j.jsx)("div",{className:"modal-footer"})]})}):null}),S=function(e){var t=e.movieID,c=Object(n.useState)(!1),a=Object(r.a)(c,2),i=a[0],s=a[1];return t?Object(j.jsxs)("div",{id:"button-div",children:[Object(j.jsx)("button",{className:"movie-button",onClick:function(){return s(!0)},children:"Movie"}),Object(j.jsx)(g,{onClose:function(){return s(!1)},show:i,children:Object(j.jsx)(y,{movieID:t})})]}):null},w=function(e){var t=e.movie;return Object(j.jsx)("div",{className:"movie-image",children:Object(j.jsx)("img",{src:t.Poster,width:"150px",alt:t.Title})})},T=new f,k=function(e){var t=e.searchTerm,c=e.searchType,a=Object(n.useState)(),i=Object(r.a)(a,2),s=i[0],o=i[1],l=Object(n.useState)(1),u=Object(r.a)(l,2),d=u[0],h=u[1],O=Object(n.useState)(),x=Object(r.a)(O,2),p=x[0],f=x[1],N=function(){var e=Object(m.a)(b.a.mark((function e(t,c,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getMoviesByTitle(t,c,n);case 2:a=e.sent,f(Math.ceil(a.totalResults/10)),o(a.Search);case 5:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),y=function(e,t){e.preventDefault(),h(d+t===0?1:d+t>p?p:d+t)};if(Object(n.useEffect)((function(){N(t,c,d)}),[t,c,d]),s&&t){var g=s.map((function(e,t){return Object(j.jsxs)("div",{className:"movie-card",children:[Object(j.jsx)(w,{movie:e}),Object(j.jsx)(v,{movie:e}),Object(j.jsx)(S,{movieID:e.imdbID})]},t)}));return Object(j.jsxs)("div",{className:"results-container",children:[Object(j.jsxs)("div",{className:"results-pagination",children:[Object(j.jsx)("button",{className:"pagination",onClick:function(e){return y(e,-1)},children:" \xab "}),Object(j.jsx)("button",{className:"pagination",onClick:function(e){return y(e,1)},children:" \xbb "}),Object(j.jsxs)("div",{className:"page-number",children:[" Page: ",d," of ",p]})]}),Object(j.jsx)("div",{style:{clear:"both"}}),Object(j.jsx)("div",{className:"movie-list",children:g})]})}return Object(j.jsx)("div",{className:"results-container",children:"No results found."})};var C=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(),s=Object(r.a)(i,2),o=s[0],l=s[1];return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("header",{className:"App-header",children:["Movie List",Object(j.jsx)(u,{sendSearchData:function(e){e.movieSearch&&a(e.movieSearch),e.movieType&&l(e.movieType)}})]}),Object(j.jsx)("div",{className:"App-body",children:Object(j.jsx)(k,{searchTerm:c,searchType:o})})]})};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.c6352be2.chunk.js.map